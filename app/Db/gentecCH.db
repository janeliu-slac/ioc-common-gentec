record(bi, "$(BASE):CH$(CHAN):GET_ATTENUATOR") {
    field(DESC, "Slink, set attenuator on/off")
    field(DTYP, "stream")
    field(INP, "@slink.proto SLNK:GET_ATTENUATOR($(CHAN)) $(PORT)")
    field(ZNAM, "Disabled")
    field(ONAM, "Enabled")
    field(PINI, "YES")
    field(SCAN, "1 second")
}
 
record(bo, "$(BASE):CH$(CHAN):SET_ATTENUATOR") {
    field(DESC, "Slink, set attenuator on/off")
    field(DTYP, "stream")
    field(OUT, "@slink.proto SLNK:SET_ATTENUATOR($(CHAN)) $(PORT)")
    field(FLNK, "$(BASE):CH$(CHAN):SET_ATTENUATOR")
} 

record(stringout, "$(BASE):CH$(CHAN):SET_ACQ_MODE") {
    field(DESC, "Slink, set data acquisition mode")
    field(DTYP, "stream")
    field(OUT, "@slink.proto SLNK:SET_ACQ($(CHAN)) $(PORT)")
    field(SCAN, "Passive") 
    field(FLNK, "$(BASE):CH$(CHAN):GET_MEAS")
}

record(longin, "$(BASE):CH$(CHAN):GET_WAVLEN") {
    field(DESC, "Slink, get channel wavelength")
    field(DTYP, "stream")
    field(INP, "@slink.proto SLNK:GET_WAVLEN($(CHAN)) $(PORT)")
    field(EGU, "nm")
    field(SCAN, "1 second")
    field(PINI, "YES")
}

record(longout, "$(BASE):CH$(CHAN):SET_WAVLEN") {
    field(DESC, "Slink, set channel wavelength")
    field(DTYP, "stream")
    field(OUT, "@slink.proto SLNK:SET_WAVLEN($(CHAN)) $(PORT)")
    field(EGU, "nm")
    field(FLNK, "$(BASE):CH$(CHAN):GET_WAVLEN") 
}

record(longout, "$(BASE):CH$(CHAN):SET_SCALE") {
    field(DESC, "Slink, set channel scale")
    field(DTYP, "stream")
    field(OUT, "@slink.proto SLNK:SET_SCALE($(CHAN)) $(PORT)")
    field(DRVL, "")
    field(DRVH, "")
    field(FLNK, "$(BASE):CH$(CHAN):GET_SCALE")
}

record(longin, "$(BASE):CH$(CHAN):GET_SCALE") {
    field(DESC, "Slink, get det min range")
    field(DTYP, "stream")
    field(INP, "@slink.proto SLNK:GET_SCALE($(CHAN)) $(PORT)")
    field(FLNK, "$(BASE):CH$(CHAN):TRANS_SCALE")
    field(PINI, "YES")
    #field(SCAN, "1 second")
}

record(aSub, "$(BASE):CH$(CHAN):TRANS_SCALE") {
    field(DESC, "Slink translate scale string")
    field(INAM, "gentecNameInit")
    field(SNAM, "gentecNameProc")
    field(INPA, "$(BASE):CH$(CHAN):GET_SCALE NPP") 
    field(FTA,  "LONG")
    field(OUTA, "$(BASE):CH$(CHAN):SCALE PP")
    field(FTVA, "STRING")
}

record(stringin, "$(BASE):CH$(CHAN):SCALE") {
    field(DESC, "Slink, current scale")
    field(scan, "Passive")
}

record(bo, "$(BASE):CH$(CHAN):BUMP_SCALE") {
    field(DESC, "Slink, inc/dec scale")
    field(DTYP, "stream")
    field(OUT, "@slink.proto SLNK:BUMP_SCALE($(CHAN)) $(PORT)")
    field(FLNK, "$(BASE):CH$(CHAN):GET_SCALE")
} 

record(bo, "$(BASE):CH$(CHAN):SET_TRIGMODE") {
    field(DESC, "Slink, enab/disab external trigger")
    field(DTYP, "stream")
    field(OUT, "@slink.proto SLNK:SET_TRIGMODE($(CHAN)) $(PORT)")
    field(FLNK, "$(BASE):CH$(CHAN):GET_TRIGMODE")
}

record(bi, "$(BASE):CH$(CHAN):GET_TRIGMODE") {
    field(DESC, "Slink, get trigger mode")
    field(DTYP, "stream")
    field(INP, "@slink.proto SLNK:GET_TRIGMODE($(CHAN)) $(PORT)")
    field(ZNAM, "Signal")
    field(ONAM, "External")
    field(SCAN, "1 second")
    field(PINI, "YES")
}

record(ai, "$(BASE):CH$(CHAN):TRIGLVL") { # Intermediate PV prior to conversion by GET_TRIGLVL
    field(DESC, "Slink, get trigger level")
    field(DTYP, "stream")
    field(INP, "@slink.proto SLNK:GET_TRIGLVL($(CHAN)) $(PORT)")
    field(EGU, "%")
    field(FLNK, "$(BASE):CH$(CHAN):GET_TRIGLVL.PROC")
    field(SCAN, "1 second")
}

record(calc, "$(BASE):CH$(CHAN):GET_TRIGLVL") {
    field(DESC, "Slink, convert trigger level")
    field(CALC, "(A/B)")
    field(INPA, "$(BASE):CH$(CHAN):TRIGLVL.VAL")
    field(INPB, "20.48")
    field(PREC, "2")
    field(EGU, "%")
}

record(ao, "$(BASE):CH$(CHAN):SET_TRIGLVL") {
    field(DESC, "Slink, set trigger level")
    field(DTYP, "stream")
    field(OUT, "@slink.proto SLNK:SET_TRIGLVL($(CHAN)) $(PORT)")
    field(FLNK, "$(BASE):CH$(CHAN):TRIGLVL")
    field(DRVH, "100.0")
    field(DRVL, "0.0")
    field(EGU, "%")
    field(PREC, "1")
}

record(stringin, "$(BASE):CH$(CHAN):DET_NAME") {
    field(DESC, "Slink, get channel det name")
    field(DTYP, "stream")
    field(INP, "@slink.proto SLNK:GET_DET_NAME($(CHAN)) $(PORT)")
    field(PINI, "YES")
}

record(longin, "$(BASE):CH$(CHAN):SN") {
    field(DESC, "Slink, get channel det SN")
    field(DTYP, "stream")
    field(INP, "@slink.proto SLNK:GET_DET_SN($(CHAN)) $(PORT)")
    field(PINI, "YES")
}

record(ai, "$(BASE):CH$(CHAN):GET_MEAS") {
    field(DESC, "Slink, get measurement")
    field(DTYP, "stream")
    field(INP, "@slink.proto SLNK:GET_MEAS($(CHAN)) $(PORT)")
    field(SCAN, ".5 second")
    field(FLNK, "$(BASE):CH$(CHAN):MEAS")
}

record(calc, "$(BASE):CH$(CHAN):MEAS") {
    field(DESC, "Slink, meas. with offset")
    field(CALC, "(A-B)")
    field(INPA, "$(BASE):CH$(CHAN):GET_MEAS.VAL")
    field(INPB, "$(BASE):CH$(CHAN):GET_OFFSET.VAL")
    field(PREC, "3")
}

record(ai, "$(BASE):CH$(CHAN):GET_OFFSET") {
    field(DESC, "Slink, get channel det offset")
    field(DTYP, "stream")
    field(INP, "@slink.proto SLNK:GET_OFFSET($(CHAN)) $(PORT)")
    field(SCAN, "1 second")
    field(PINI, "YES")
}

record(bo, "$(BASE):CH$(CHAN):SET_OFFSET") {
    field(DESC, "Slink, set channel offset")
    field(DTYP, "stream")   
    field(SCAN, "Passive")
    field(OUT, "@slink.proto SLNK:SET_OFFSET($(CHAN)) $(PORT)")
    field(FLNK, "$(BASE):CH$(CHAN):GET_OFFSET")
}

record(bo, "$(BASE):CH$(CHAN):CLEAR_OFFSET") {
    field(DESC, "Slink, clear channel offset")
    field(DTYP, "stream")
    field(SCAN, "Passive")
    field(OUT, "@slink.proto SLNK:CLEAR_OFFSET($(CHAN)) $(PORT)")
    field(FLNK, "$(BASE):CH$(CHAN):GET_OFFSET")
}

record(stringin, "$(BASE):CH$(CHAN):DESCRIPTION") {
    field(DESC, "Slink, description of channel")
    field(SCAN, "Passive")
}
    
record(longin, "$(BASE):CH$(CHAN):GET_MIN_RANGE") {
    field(DESC, "Slink, get det min range")
    field(DTYP, "stream")
    field(INP, "@slink.proto SLNK:GET_MIN_RANGE($(CHAN)) $(PORT)")
    field(FLNK, "$(BASE):CH$(CHAN):TRANS_MIN_RANGE")
    field(PINI, "YES")
}

record(aSub, "$(BASE):CH$(CHAN):TRANS_MIN_RANGE") {
    field(DESC, "Slink translate min range string")
    field(INAM, "gentecNameInit")
    field(SNAM, "gentecNameProc")
    field(INPA, "$(BASE):CH$(CHAN):GET_MIN_RANGE NPP") 
    field(FTA,  "LONG")
    field(OUTA, "$(BASE):CH$(CHAN):MIN_RANGE PP")
    field(FTVA, "STRING")
}

record(stringin, "$(BASE):CH$(CHAN):MIN_RANGE") {
    field(DESC, "Slink min range string")
    field(scan, "Passive")
}
 
record(longin, "$(BASE):CH$(CHAN):GET_MAX_RANGE") {
    field(DESC, "Slink, get det max range")
    field(DTYP, "stream")
    field(INP, "@slink.proto SLNK:GET_MAX_RANGE($(CHAN)) $(PORT)")
    field(FLNK, "$(BASE):CH$(CHAN):TRANS_MAX_RANGE")
    field(PINI, "YES")
}

record(aSub, "$(BASE):CH$(CHAN):TRANS_MAX_RANGE") {
    field(DESC, "Slink translate max range string")
    field(INAM, "gentecNameInit")
    field(SNAM, "gentecNameProc")
    field(INPA, "$(BASE):CH$(CHAN):GET_MAX_RANGE NPP") 
    field(FTA,  "LONG")
    field(OUTA, "$(BASE):CH$(CHAN):MAX_RANGE PP")
    field(FTVA, "STRING")
}

record(stringin, "$(BASE):CH$(CHAN):MAX_RANGE") {
    field(DESC, "Slink max range string")
    field(scan, "Passive")
} 

